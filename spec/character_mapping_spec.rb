# -*- encoding: utf-8 -*-
require 'minitest/spec'
require 'minitest/autorun'

require "json"
require "newfor_gem"

describe "character mapping" do
  # Chr_1 = À
  Chr_1 = "\x0f\x0c\x02\x0c\x15\x79\x93\x00\x43\xc5\x41\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\x7f\xff\x02\x38\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0d\x07\x0b\x0b\x74\x68\x69\x73\x20\x69\x73\x20\x31\x41\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20"
  # Chr_3 = Â
  Chr_3 = "\x0f\x0c\x02\x0c\x15\x79\x93\x00\xcb\xcd\xc1\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\x7f\xff\x02\x38\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0d\x07\x0b\x0b\x74\x68\x69\x73\x20\x69\x73\x20\x33\x41\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20"
  # Chr_5 = Æ
  Chr_5 = "\x0f\x0c\x02\x0c\x15\x79\x93\x00\x49\x3d\x61\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\x7f\xff\x02\x38\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0d\x07\x0b\x0b\x74\x68\x69\x73\x20\x69\x73\x20\x35\x41\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20"
  # Chr_6 = æ
  Chr_6 = "\x0f\x0c\x02\x0c\x15\x79\x93\x00\x40\xbd\x71\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\x7f\xff\x02\x38\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0d\x07\x0b\x0b\x74\x68\x69\x73\x20\x69\x73\x20\x36\x61\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20"
  # Chr_7 = Ç
  Chr_7 = "\x0f\x0c\x02\x0c\x15\x79\x93\x00\x43\x6d\x43\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\x7f\xff\x02\x38\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0d\x07\x0b\x0b\x74\x68\x69\x73\x20\x69\x73\x20\x37\x43\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20"
  # Chr_9 = É
  Chr_9 = "\x0f\x0c\x02\x0c\x15\x79\x93\x00\x4b\x49\xc5\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\x7f\xff\x02\x38\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0d\x07\x0b\x0b\x74\x68\x69\x73\x20\x69\x73\x20\x39\x45\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20"
  # Chr_11 = È
  Chr_11 = "\x0f\x0c\x02\x0c\x15\x79\x93\x00\x40\x45\x45\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\x7f\xff\x02\x38\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0d\x07\x0b\x0b\x74\x68\x69\x73\x20\x69\x73\x20\x31\x31\x45\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20"
  # Chr_13 = Î
  Chr_13 = "\x0f\x0c\x02\x0c\x15\x79\x93\x00\xc3\x4d\x49\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\x7f\xff\x02\x38\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0d\x07\x0b\x0b\x74\x68\x69\x73\x20\x69\x73\x20\x31\x33\x49\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20"
  # Chr_15 = Ï
  Chr_15 = "\x0f\x0c\x02\x0c\x15\x79\x93\x00\x42\x61\xc9\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\x7f\xff\x02\x38\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0d\x07\x0b\x0b\x74\x68\x69\x73\x20\x69\x73\x20\x31\x35\x49\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20"
  # Chr_17 = Ô
  Chr_17 = "\x0f\x0c\x02\x0c\x15\x79\x93\x00\xc2\x4d\xcf\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\x7f\xff\x02\x38\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0d\x07\x0b\x0b\x74\x68\x69\x73\x20\x69\x73\x20\x31\x37\x4f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20"
  # Chr_19 = Œ
  Chr_19 = "\x0f\x0c\x02\x0c\x15\x79\x93\x00\x42\xbd\xea\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\x7f\xff\x02\x38\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0d\x07\x0b\x0b\x74\x68\x69\x73\x20\x69\x73\x20\x31\x39\x4f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20"
  # Chr_20 = œ
  Chr_20 = "\x0f\x0c\x02\x0c\x15\x79\x93\x00\x4b\x3d\xfa\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\x7f\xff\x02\x38\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0d\x07\x0b\x0b\x74\x68\x69\x73\x20\x69\x73\x20\x32\x30\x6f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20"
  # Chr_21 = Ù
  Chr_21 = "\x0f\x0c\x02\x0c\x15\x79\x93\x00\x49\xc5\x55\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\x7f\xff\x02\x38\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0d\x07\x0b\x0b\x74\x68\x69\x73\x20\x69\x73\x20\x32\x31\x55\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20"
  # Chr_23 = Û
  Chr_23 = "\x0f\x0c\x02\x0c\x15\x79\x93\x00\xc1\xcd\xd5\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\x7f\xff\x02\x38\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0d\x07\x0b\x0b\x74\x68\x69\x73\x20\x69\x73\x20\x32\x33\x55\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20"
  # Chr_25 = Ü
  Chr_25 = "\x0f\x0c\x02\x0c\x15\x79\x93\x00\x40\xe1\x55\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\x7f\xff\x02\x38\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0d\x07\x0b\x0b\x74\x68\x69\x73\x20\x69\x73\x20\x32\x35\x55\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20"
  M_CHR1 = "\x0f\x0c\x02\x0c\x15\x79\x93\x00\x18\xbd\xd6\x1f\xbd\x56\x2b\xbd\xd6\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\x7f\xff\x02\x38\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0d\x07\x0b\x0b\x45\x45\x45\x2e\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20"
  M_CHR2 = "\x0f\x0c\x02\x0c\x15\x79\x93\x00\x12\xbd\xf1\x15\xbd\x71\x21\xbd\xf1\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\x7f\xff\x02\x38\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0d\x07\x0b\x0b\x61\x61\x61\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20"
  M_CHR3 = "\x0f\x0c\x02\x0c\x15\x53\x93\x80\x5f\xd1\xce\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\x7f\xff\x02\x49\x20\x0d\x07\x0b\x0b\x53\x33\x20\x51\x57\x45\x52\x54\x59\x55\x49\x4f\x50\x41\x53\x44\x46\x47\x48\x4a\x4b\x4c\xa0\x5a\x58\x43\x56\x42\x4e\x4d\x0a\x0a\x20\x20\x20"
  M_CHR4 = "\x0f\x1b\x02\x0c\x15\x79\x93\x00\x77\x6d\xc3\x09\xd2\xce\x05\xbe\xd6\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\xff\x80\x74\x7f\xff\x02\x64\x0d\x07\x0b\x0b\x4b\x6a\x68\x61\x64\x66\x67\x6a\x6b\x6c\x68\x61\x64\x6b\x6c\x66\x67\x20\x6b\x61\x6a\x64\x66\x67\x6b\x6a\x61\x68\x64\x0a\x0a\x20\x20\x20\x20\x20\x02\x38\x0d\x07\x0b\x0b\x66\x67\x6b\x6c\x68\x61\x20\x64\x66\x6b\x6c\x67\x6a\x68\x61\x6b\x64\x6c\x6a\x66\x20\x67\x6b\x6a\x61\x64\x66\xa0\xa0\xa0\x2e\x0a\x0a\x20\x20\x20"


# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
#   Use below to find the modifier and character number of a new
#   special character.
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

#  o = NewforGem::Newfor.read(Chr_7)
#  r = Packet26.read(o.rows[0].text)
# 
#  it "returns modifier and character dec" do
#    r.char_array[0][:modifier].must_equal "modifier"
#  end
# 
#  it "returns modifier and character dec" do
#    r.char_array[0][:character].must_equal "character"
#  end

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

  it "must return the letter Ï" do
    obj = NewforGem::Newfor.read(Chr_15)
    chr_array = Packet26.read(obj.rows[0].text)
    chr_array.special_chars.must_equal ["Ï"]
  end
 
  it "must return the letter Ü" do
    obj = NewforGem::Newfor.read(Chr_25)
    chr_array = Packet26.read(obj.rows[0].text)
    chr_array.special_chars.must_equal ["Ü"]
  end
 
  it "must return the letter Ô" do
    obj = NewforGem::Newfor.read(Chr_17)
    chr_array = Packet26.read(obj.rows[0].text)
    chr_array.special_chars.must_equal ["Ô"]
  end
 
  it "must return the letter Û" do
    obj = NewforGem::Newfor.read(Chr_23)
    chr_array = Packet26.read(obj.rows[0].text)
    chr_array.special_chars.must_equal ["Û"]
  end
 
  it "must return the letter Î" do
    obj = NewforGem::Newfor.read(Chr_13)
    chr_array = Packet26.read(obj.rows[0].text)
    chr_array.special_chars.must_equal ["Î"]
  end
 
  it "must return the letter Â" do
    obj = NewforGem::Newfor.read(Chr_3)
    chr_array = Packet26.read(obj.rows[0].text)
    chr_array.special_chars.must_equal ["Â"]
  end
 
  it "must return the letter À" do
    obj = NewforGem::Newfor.read(Chr_1)
    chr_array = Packet26.read(obj.rows[0].text)
    chr_array.special_chars.must_equal ["À"]
  end
 
  it "must return the letter È" do
    obj = NewforGem::Newfor.read(Chr_11)
    chr_array = Packet26.read(obj.rows[0].text)
    chr_array.special_chars.must_equal ["È"]
  end
 
  it "must return the letter Ù" do
    obj = NewforGem::Newfor.read(Chr_21)
    chr_array = Packet26.read(obj.rows[0].text)
    chr_array.special_chars.must_equal ["Ù"]
  end
 
  it "must return the letter É" do
    obj = NewforGem::Newfor.read(Chr_9)
    chr_array = Packet26.read(obj.rows[0].text)
    chr_array.special_chars.must_equal ["É"]
  end
 
  it "must return the letter Æ" do
    obj = NewforGem::Newfor.read(Chr_5)
    chr_array = Packet26.read(obj.rows[0].text)
    chr_array.special_chars.must_equal ["Æ"]
  end
 
  it "must return the letter æ" do
    obj = NewforGem::Newfor.read(Chr_6)
    chr_array = Packet26.read(obj.rows[0].text)
    chr_array.special_chars.must_equal ["æ"]
  end
 
  it "must return the letter Ç" do
    obj = NewforGem::Newfor.read(Chr_7)
    chr_array = Packet26.read(obj.rows[0].text)
    chr_array.special_chars.must_equal ["Ç"]
  end

  it "must return the letter Œ" do
    obj = NewforGem::Newfor.read(Chr_19)
    chr_array = Packet26.read(obj.rows[0].text)
    chr_array.special_chars.must_equal ["Œ"]
  end
 
  it "must return the letter œ" do
    obj = NewforGem::Newfor.read(Chr_20)
    chr_array = Packet26.read(obj.rows[0].text)
    chr_array.special_chars.must_equal ["œ"]
  end
 
  it "must return €€€" do
    obj = NewforGem::Newfor.read(M_CHR1)
    chr_array = Packet26.read(obj.rows[0].text)
    chr_array.special_chars.must_equal ["€", "€", "€"]
  end
 
  it "must return æ æ æ" do
    obj = NewforGem::Newfor.read(M_CHR2)
    chr_array = Packet26.read(obj.rows[0].text)
    chr_array.special_chars.must_equal ["æ", "æ", "æ"]
  end
 
  it "must return Ñ" do
    obj = NewforGem::Newfor.read(M_CHR3)
    chr_array = Packet26.read(obj.rows[0].text)
    chr_array.special_chars.must_equal ["Ñ"]
  end
 
  it "must return Ñ" do
    obj = NewforGem::Newfor.read(M_CHR4)
    chr_array = Packet26.read(obj.rows[0].text)
    chr_array.special_chars.must_equal ["€", "Ñ", "Ç"]
  end
end